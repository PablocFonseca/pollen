{"version":3,"sources":["CustomText.tsx","Main.tsx","index.tsx"],"names":["defaultProps","api","text_size","refresh_sec","refresh_cutoff_sec","CustomText","props","text_option","useState","rowData","setRowData","useEffect","Streamlit","setFrameHeight","console","log","fetchData","a","axios","get","then","response","data","timeout","interval","setInterval","setTimeout","clearInterval","clearTimeout","style","fontSize","backgroundColor","background_color","color","text_color","fontStyle","font_style","withStreamlitConnection","args","engine","Styletron","ReactDOM","render","StrictMode","value","theme","LightTheme","document","getElementById"],"mappings":"iQAgBMA,EAAsB,CAC1BC,IAAK,GACLC,UAAW,GACXC,YAAa,EACbC,mBAAoB,GA+CPC,EA5Ce,WAAkC,IAAjCC,EAAgC,uDAAjBN,EACpCC,EAAmFK,EAAnFL,IADqD,EAC8BK,EAA9EJ,iBADgD,MACpC,GADoC,IAC8BI,EAA9DH,mBADgC,MAClB,EADkB,IAC8BG,EAA7CF,0BADe,MACM,EADN,IAC8BE,EAArBC,mBADT,MACuB,GADvB,IAE/BC,mBAAS,QAFsB,mBAEtDC,EAFsD,KAE7CC,EAF6C,KA8B7D,OA3BAC,qBAAU,kBAAMC,IAAUC,oBAE1BF,qBAAU,WACRG,QAAQC,IAAIT,GACZ,IAAMU,EAAS,uCAAG,sBAAAC,EAAA,sDAChBC,IAAMC,IAAIlB,GAAKmB,MAAK,SAACC,GACnBX,EAAWW,EAASC,SAFN,2CAAH,qDAMfN,IACA,IACIO,EADEC,EAAWC,YAAYT,EAAyB,IAAdb,GAUxC,OARIC,EAAqB,IACvBU,QAAQC,IAAIX,GACZmB,EAAUG,YAAW,WACnBC,cAAcH,GACdV,QAAQC,IAAI,qCAAsCR,KAC5B,IAArBH,IAELU,QAAQC,IAAI,qBAAsBR,GAC3B,WACLoB,cAAcH,GACVD,GAASK,aAAaL,MAE3B,CAACjB,IAGF,0BACEuB,MAAO,CACLC,SAAU5B,EACV6B,gBAAe,OAAExB,QAAF,IAAEA,OAAF,EAAEA,EAAayB,iBAC9BC,MAAK,OAAE1B,QAAF,IAAEA,OAAF,EAAEA,EAAa2B,WACpBC,UAAS,OAAE5B,QAAF,IAAEA,OAAF,EAAEA,EAAa6B,aAGzB3B,ICpCQ4B,eAlBF,SAAC/B,GAA2B,IAAD,EACmCA,EAAMgC,KAAvErC,EAD8B,EAC9BA,IAAKC,EADyB,EACzBA,UAAWC,EADc,EACdA,YAAaC,EADC,EACDA,mBAAoBG,EADnB,EACmBA,YAIzD,OAFAI,qBAAU,kBAAMC,IAAUC,oBAGxB,oCACE,kBAAC,EAAD,CACEZ,IAAKA,EACLC,UAAWA,EACXC,YAAaA,EACbC,mBAAoBA,EACpBG,YAAaA,Q,gCCZfgC,EAAS,IAAIC,IAGnBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAmBC,MAAOL,GACxB,kBAAC,IAAD,CAAeM,MAAOC,KACpB,kBAAC,EAAD,SAINC,SAASC,eAAe,W","file":"static/js/main.9a96ac35.chunk.js","sourcesContent":["import React, { useState, useEffect, FC } from 'react';\r\nimport axios from \"axios\"\r\nimport {\r\n  ComponentProps,\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\";\r\n\r\ntype Props = {\r\n  api: string,\r\n  text_size?: number,\r\n  refresh_sec?: number,\r\n  refresh_cutoff_sec?: number,\r\n  text_option?: any,\r\n}\r\n\r\nconst defaultProps: Props = {\r\n  api: \"\",\r\n  text_size: 10,\r\n  refresh_sec: 1,\r\n  refresh_cutoff_sec: 0\r\n}\r\n\r\nconst CustomText: FC<Props> = (props: Props = defaultProps) => {\r\n  const { api, text_size = 10, refresh_sec = 1, refresh_cutoff_sec = 0, text_option = {} } = props;\r\n  const [rowData, setRowData] = useState(\"None\");\r\n  useEffect(() => Streamlit.setFrameHeight());\r\n\r\n  useEffect(() => {\r\n    console.log(props);\r\n    const fetchData = async () => {\r\n      axios.get(api).then((response) => {\r\n        setRowData(response.data);\r\n      });\r\n    };\r\n\r\n    fetchData();\r\n    const interval = setInterval(fetchData, refresh_sec * 1000);\r\n    let timeout: NodeJS.Timeout;\r\n    if (refresh_cutoff_sec > 0) {\r\n      console.log(refresh_cutoff_sec);\r\n      timeout = setTimeout(() => {\r\n        clearInterval(interval);\r\n        console.log(\"Fetching data ended, refresh rate:\", text_option);\r\n      }, refresh_cutoff_sec * 1000);\r\n    }\r\n    console.log(\"rendered==========\", text_option);\r\n    return () => {\r\n      clearInterval(interval);\r\n      if (timeout) clearTimeout(timeout);\r\n    }\r\n  }, [props]);\r\n\r\n  return (\r\n    <span\r\n      style={{\r\n        fontSize: text_size,\r\n        backgroundColor: text_option?.background_color,\r\n        color: text_option?.text_color,\r\n        fontStyle: text_option?.font_style\r\n      }}\r\n    >\r\n      {rowData}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default CustomText;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  ComponentProps,\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\";\r\nimport CustomText from \"./CustomText\";\r\n\r\nconst Main = (props: ComponentProps) => {\r\n  const { api, text_size, refresh_sec, refresh_cutoff_sec, text_option } = props.args;\r\n\r\n  useEffect(() => Streamlit.setFrameHeight());\r\n\r\n  return (\r\n    <>\r\n      <CustomText\r\n        api={api}\r\n        text_size={text_size}\r\n        refresh_sec={refresh_sec}\r\n        refresh_cutoff_sec={refresh_cutoff_sec}\r\n        text_option={text_option}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withStreamlitConnection(Main);\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Main from \"./Main\"\r\n// Lots of import to define a Styletron engine and load the light theme of baseui\r\nimport { Client as Styletron } from \"styletron-engine-atomic\"\r\nimport { Provider as StyletronProvider } from \"styletron-react\"\r\nimport { ThemeProvider, LightTheme } from \"baseui\"\r\n\r\nconst engine = new Styletron()\r\n\r\n// Wrap your CustomSlider with the baseui them\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StyletronProvider value={engine}>\r\n      <ThemeProvider theme={LightTheme}>\r\n        <Main />\r\n      </ThemeProvider>\r\n    </StyletronProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}