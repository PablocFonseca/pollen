(this.webpackJsonpstreamlit_custom_slider=this.webpackJsonpstreamlit_custom_slider||[]).push([[0],{41:function(e,r,t){e.exports=t(80)},74:function(e,r,t){},80:function(e,r,t){"use strict";t.r(r);var a=t(6),n=t.n(a),i=t(18),l=t.n(i),s=t(20),o=(t(28),t(29),t(8)),c=t(7),d=t(3),u=t.n(d),f=t(5),m=t(37),h=(t(73),t(74),t(87)),_=function(e){return n.a.createElement("button",{onClick:function(){e.clicked(e.value)}},"Sell")},p=function(e){var r=[{field:"honey",headerName:"honey",width:100,aggFunc:"sum",pinned:"left",cellRenderer:"agAnimateShowChangeCellRenderer",enableCellChangeFlash:!0},{field:"$honey",headerName:"$honey",width:100,resizable:!0},{field:"symbol",headerName:"Symbol",width:100,resizable:!0},{field:"ticker_time_frame",headerName:"ticker_time_frame",width:100,resizable:!0},{field:"trigname",headerName:"trigname",width:100,resizable:!0},{field:"datetime",headerName:"datetime",width:100,resizable:!0},{field:"honey_time_in_profit",headerName:"honey_time_in_profit",width:100,resizable:!0},{field:"filled_qty",headerName:"filled_qty",width:100,resizable:!0},{field:"qty_available",headerName:"qty_available",width:100,resizable:!0},{field:"filled_avg_price",headerName:"filled_avg_price",width:100,resizable:!0},{field:"limit_price",headerName:"limit_price",width:100,resizable:!0},{field:"cost_basis",headerName:"cost_basis",width:100,resizable:!0},{field:"wave_amo",headerName:"wave_amo",width:100,resizable:!0},{field:"status_q",headerName:"status_q",width:100,resizable:!0},{field:"client_order_id",headerName:"client_order_id",width:100,resizable:!0},{field:"origin_wave",headerName:"origin_wave",width:100,resizable:!0},{field:"wave_at_creation",headerName:"wave_at_creation",width:100,resizable:!0},{field:"sell_reason",headerName:"sell_reason",width:100,resizable:!0},{field:"exit_order_link",headerName:"exit_order_link",width:100,resizable:!0},{field:"queen_order_state",headerName:"queen_order_state",width:100,resizable:!0},{field:"order_rules",headerName:"order_rules",width:100,resizable:!0},{field:"order_rules.sellout",headerName:"order_rules.sellout",width:150,resizable:!0},{field:"order_trig_sell_stop",headerName:"order_trig_sell_stop",width:100,resizable:!0},{field:"side",headerName:"side",width:70,pinned:"right",resizable:!0},{field:"client_order_id",headerName:"action",width:80,cellRenderer:_,cellRendererParams:{clicked:function(){var e=Object(f.a)(u.a.mark((function e(r){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=prompt("Please input number"),e.next=4,h.a.get("http://127.0.0.1:8000/api/data/queen_app_Sellorder_request",{params:{username:i,prod:g,client_order_id:r,number_shares:t}});case 4:e.sent,alert("Success Sellorder_request!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Failed Sellorder_request!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()},pinned:"right"}],t=Object(a.useRef)(null),i=e.username,l=e.api,d=e.refresh_sec,p=void 0===d?1:d,b=e.refresh_cutoff_sec,w=void 0===b?0:b,v=e.prod,g=void 0===v||v,y=Object(a.useState)([]),z=Object(c.a)(y,2),N=z[0],O=z[1],j=Object(a.useState)(r),k=Object(c.a)(j,2),x=k[0];k[1];Object(a.useEffect)((function(){return s.a.setFrameHeight()}));var C=function(e){return e.map((function(e,r){return Object(o.a)(Object(o.a)({},e),{},{idx:r})}))},E=function(){var e=Object(f.a)(u.a.mark((function e(){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,a=C(r),t.current.api.applyTransactionAsync({update:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(u.a.mark((function e(){var r,t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(l,{params:{username:i,prod:g}});case 2:return r=e.sent,t=JSON.parse(r.data),a=C(t),a,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var r,t=setInterval(E,1e3*p);return w>0&&(console.log(w),r=setTimeout((function(){clearInterval(t),console.log("Fetching data ended, refresh rate:",p)}),1e3*w)),console.error("rendered==========",e),function(){clearInterval(t),r&&clearTimeout(r)}}),[e]);Object(a.useCallback)((function(e){var r=[];t.current.columnApi.getColumns().forEach((function(e){r.push(e.getId())})),t.current.columnApi.autoSizeColumns(r,e)}),[]),Object(a.useCallback)((function(){t.current.api.sizeColumnsToFit({defaultMinWidth:100})}),[]);var q=Object(a.useCallback)(function(){var e=Object(f.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(f.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,O(r);case 4:case"end":return e.stop()}}),e)}))),100);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),F=Object(a.useMemo)((function(){return{minWidth:200}}),[]),R=Object(a.useMemo)((function(){return{width:120,sortable:!0,resizable:!0}}),[]),P=Object(a.useMemo)((function(){return function(e){return e.data.idx}}),[]),T=Object(a.useMemo)((function(){return{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:"customStats"}}),[]);return n.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},n.a.createElement("div",{className:"ag-theme-alpine-dark",style:{overflow:"hidden",flexGrow:1}},n.a.createElement(m.AgGridReact,{ref:t,rowData:N,columnDefs:x,defaultColDef:R,rowStyle:{fontSize:12,padding:0},headerHeight:30,rowHeight:30,domLayout:"autoHeight",onGridReady:q,autoGroupColumnDef:F,sideBar:T,animateRows:!0,suppressAggFuncInHeader:!0,getRowId:P})))},b=Object(s.b)((function(e){var r=e.args,t=r.username,i=r.api,l=r.refresh_sec,o=r.refresh_cutoff_sec,c=r.gridoption_build,d=r.prod;return Object(a.useEffect)((function(){return s.a.setFrameHeight()})),n.a.createElement(n.a.Fragment,null,n.a.createElement(p,{username:t,api:i,refresh_sec:l,refresh_cutoff_sec:o,gridoption_build:c,prod:d}))})),w=t(39),v=t(40),g=t(86),y=t(81),z=new w.a;l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v.a,{value:z},n.a.createElement(g.a,{theme:y.a},n.a.createElement(b,null)))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3a443547.chunk.js.map