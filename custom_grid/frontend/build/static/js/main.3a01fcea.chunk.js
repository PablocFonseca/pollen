(this.webpackJsonpstreamlit_custom_slider=this.webpackJsonpstreamlit_custom_slider||[]).push([[0],{41:function(e,t,r){e.exports=r(79)},73:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var a=r(5),n=r.n(a),i=r(18),l=r.n(i),s=r(20),o=(r(28),r(29),r(7)),c=r(6),u=r(2),d=r.n(u),f=r(4),m=r(37),h=(r(73),r(86)),p=function(e){return n.a.createElement("button",{onClick:function(){e.clicked(e.value)}},"Sell")},_=function(e){var t=[{field:"idx",pinned:"left",width:60},{field:"honey",headerName:"honey",width:100,pinned:"left",cellRenderer:"agAnimateShowChangeCellRenderer",aggFunc:"sum"},{field:"$honey",headerName:"$honey",width:100,resizable:!0},{field:"symbol",headerName:"Symbol",width:100,resizable:!0},{field:"ticker_time_frame",headerName:"ticker_time_frame",width:100,resizable:!0},{field:"trigname",headerName:"trigname",width:100,resizable:!0},{field:"datetime",headerName:"datetime",width:100,resizable:!0},{field:"honey_time_in_profit",headerName:"honey_time_in_profit",width:100,resizable:!0},{field:"filled_qty",headerName:"filled_qty",width:100,resizable:!0},{field:"qty_available",headerName:"qty_available",width:100,resizable:!0},{field:"filled_avg_price",headerName:"filled_avg_price",width:100,resizable:!0},{field:"limit_price",headerName:"limit_price",width:100,resizable:!0},{field:"cost_basis",headerName:"cost_basis",width:100,resizable:!0},{field:"wave_amo",headerName:"wave_amo",width:100,resizable:!0},{field:"status_q",headerName:"status_q",width:100,resizable:!0},{field:"client_order_id",headerName:"client_order_id",width:100,resizable:!0},{field:"origin_wave",headerName:"origin_wave",width:100,resizable:!0},{field:"wave_at_creation",headerName:"wave_at_creation",width:100,resizable:!0},{field:"sell_reason",headerName:"sell_reason",width:100,resizable:!0},{field:"exit_order_link",headerName:"exit_order_link",width:100,resizable:!0},{field:"queen_order_state",headerName:"queen_order_state",width:100,resizable:!0},{field:"order_rules",headerName:"order_rules",width:100,resizable:!0},{field:"order_rules.sellout",headerName:"order_rules.sellout",width:150,resizable:!0},{field:"order_trig_sell_stop",headerName:"order_trig_sell_stop",width:100,resizable:!0},{field:"side",headerName:"side",width:70,pinned:"right",resizable:!0},{field:"client_order_id",headerName:"action",width:80,cellRenderer:p,cellRendererParams:{clicked:function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:r=e.sent,alert("id : ".concat(t,", result: ").concat(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("failed!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},pinned:"right"}],r=Object(a.useRef)(),i=e.username,l=e.api,u=e.refresh_sec,_=void 0===u?1:u,b=e.refresh_cutoff_sec,w=void 0===b?0:b,v=e.prod,g=void 0===v||v,z=Object(a.useState)([]),N=Object(c.a)(z,2),y=N[0],O=N[1],j=Object(a.useState)(t),k=Object(c.a)(j,2),x=k[0];k[1];Object(a.useEffect)((function(){return s.a.setFrameHeight()}));var C=function(e){return e.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{idx:t})}))},E=function(){var e=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,a=C(t),r.current.api.setRowData(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(l,{params:{username:i,prod:g}});case 2:return t=e.sent,r=JSON.parse(t.data),a=C(r),a,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(l,{username:i,prod:g,id:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var t,r=setInterval(E,1e3*_);return w>0&&(console.log(w),t=setTimeout((function(){clearInterval(r),console.log("Fetching data ended, refresh rate:",_)}),1e3*w)),console.error("rendered==========",e),function(){clearInterval(r),t&&clearTimeout(t)}}),[e]);Object(a.useCallback)((function(e){var t=[];r.current.columnApi.getColumns().forEach((function(e){t.push(e.getId())})),r.current.columnApi.autoSizeColumns(t,e)}),[]),Object(a.useCallback)((function(){r.current.api.sizeColumnsToFit({defaultMinWidth:100})}),[]);var R=Object(a.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)}))),100);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),q=Object(a.useMemo)((function(){return{minWidth:200}}),[]),D=Object(a.useMemo)((function(){return{width:120,sortable:!0,resizable:!0}}),[]),P=(Object(a.useMemo)((function(){return function(e){return e.data.id}}),[]),Object(a.useMemo)((function(){return{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:"customStats"}}),[]));return n.a.createElement("div",{className:"ag-theme-alpine-dark"},n.a.createElement(m.AgGridReact,{ref:r,rowData:y,columnDefs:x,defaultColDef:D,rowStyle:{fontSize:12,padding:0},headerHeight:30,rowHeight:30,domLayout:"autoHeight",onGridReady:R,autoGroupColumnDef:q,sideBar:P,enableCellChangeFlash:!0,animateRows:!0,suppressAggFuncInHeader:!0}))},b=Object(s.b)((function(e){var t=e.args,r=t.username,i=t.api,l=t.refresh_sec,o=t.refresh_cutoff_sec,c=t.gridoption_build,u=t.prod;return Object(a.useEffect)((function(){return s.a.setFrameHeight()})),n.a.createElement(n.a.Fragment,null,n.a.createElement(_,{username:r,api:i,refresh_sec:l,refresh_cutoff_sec:o,gridoption_build:c,prod:u}))})),w=r(39),v=r(40),g=r(85),z=r(80),N=new w.a;l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v.a,{value:N},n.a.createElement(g.a,{theme:z.a},n.a.createElement(b,null)))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3a01fcea.chunk.js.map