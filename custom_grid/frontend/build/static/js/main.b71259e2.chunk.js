(this.webpackJsonpstreamlit_custom_slider=this.webpackJsonpstreamlit_custom_slider||[]).push([[0],{37:function(e,r,t){e.exports=t(74)},74:function(e,r,t){"use strict";t.r(r);var a=t(6),i=t.n(a),n=t(17),l=t.n(n),o=t(22),s=(t(27),t(28),t(8),t(7)),d=t(3),c=t.n(d),u=t(5),f=t(36),h=(t(69),t(76)),m=function(e){return i.a.createElement("button",{onClick:function(){e.clicked(e.value)}},"Sell")},_=[],p=function(e){var r=[{field:"honey",headerName:"honey",width:100,filter:"agTextColumnFilter",pinned:"left",cellRenderer:"agAnimateShowChangeCellRenderer",enableCellChangeFlash:!0},{field:"$honey",headerName:"$honey",width:100,resizable:!0,cellRenderer:"agAnimateShowChangeCellRenderer",enableCellChangeFlash:!0},{field:"symbol",headerName:"Symbol",width:100,resizable:!0},{field:"ticker_time_frame",headerName:"ticker_time_frame",width:100,resizable:!0},{field:"trigname",headerName:"trigname",width:100,resizable:!0},{field:"datetime",headerName:"datetime",width:100,resizable:!0},{field:"honey_time_in_profit",headerName:"honey_time_in_profit",width:100,resizable:!0},{field:"filled_qty",headerName:"filled_qty",width:100,resizable:!0},{field:"qty_available",headerName:"qty_available",width:100,resizable:!0},{field:"filled_avg_price",headerName:"filled_avg_price",width:100,resizable:!0},{field:"limit_price",headerName:"limit_price",width:100,resizable:!0},{field:"cost_basis",headerName:"cost_basis",width:100,resizable:!0},{field:"wave_amo",headerName:"wave_amo",width:100,resizable:!0},{field:"status_q",headerName:"status_q",width:100,resizable:!0},{field:"client_order_id",headerName:"client_order_id",width:100,resizable:!0},{field:"origin_wave",headerName:"origin_wave",width:100,resizable:!0},{field:"wave_at_creation",headerName:"wave_at_creation",width:100,resizable:!0},{field:"sell_reason",headerName:"sell_reason",width:100,resizable:!0},{field:"exit_order_link",headerName:"exit_order_link",width:100,resizable:!0},{field:"queen_order_state",headerName:"queen_order_state",width:100,resizable:!0},{field:"order_rules",headerName:"order_rules",width:100,resizable:!0},{field:"order_rules.sellout",headerName:"order_rules.sellout",width:150,resizable:!0},{field:"order_trig_sell_stop",headerName:"order_trig_sell_stop",width:100,resizable:!0},{field:"side",headerName:"side",width:70,pinned:"right",resizable:!0},{field:"client_order_id",headerName:"action",width:80,cellRenderer:m,cellRendererParams:{clicked:function(){var e=Object(u.a)(c.a.mark((function e(r){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=prompt("Please input number"),e.next=4,h.a.get("http://127.0.0.1:8000/api/data/queen_app_Sellorder_request",{params:{username:n,prod:v,client_order_id:r,number_shares:t}});case 4:e.sent,alert("Success Sellorder_request!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Failed Sellorder_request!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()},pinned:"right"}],t=Object(a.useRef)(null),n=e.username,l=e.api,d=e.refresh_sec,p=void 0===d?1:d,b=e.refresh_cutoff_sec,w=void 0===b?0:b,g=e.prod,v=void 0===g||g,y=Object(a.useState)([]),z=Object(s.a)(y,2),N=z[0],O=z[1],j=Object(a.useState)(r),C=Object(s.a)(j,2),k=C[0];C[1];Object(a.useEffect)((function(){return o.a.setFrameHeight()}));var x=function(){var e=Object(u.a)(c.a.mark((function e(){var r,a,i,n,l,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,a=t.current.api,console.log(_),i=r.map((function(e){return e.client_order_id})),n=_.map((function(e){return e.client_order_id})),l=_.filter((function(e){return i.includes(e.client_order_id)})),o=_.filter((function(e){return!i.includes(e.client_order_id)})),s=r.filter((function(e){return!n.includes(e.client_order_id)})),console.log(o),a.applyTransactionAsync({update:l,remove:o,add:s}),_=r;case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(c.a.mark((function e(){var r,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(l,{params:{username:n,prod:v}});case 2:return r=e.sent,t=JSON.parse(r.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var r,t=setInterval(x,1e3*p);return w>0&&(console.log(w),r=setTimeout((function(){clearInterval(t),console.log("Fetching data ended, refresh rate:",p)}),1e3*w)),console.error("rendered==========",e),function(){clearInterval(t),r&&clearTimeout(r)}}),[e]);Object(a.useCallback)((function(e){var r=[];t.current.columnApi.getColumns().forEach((function(e){r.push(e.getId())})),t.current.columnApi.autoSizeColumns(r,e)}),[]),Object(a.useCallback)((function(){t.current.api.sizeColumnsToFit({defaultMinWidth:100})}),[]);var q=Object(a.useCallback)(function(){var e=Object(u.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(u.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,O(r),_=r;case 5:case"end":return e.stop()}}),e)}))),100);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),E=Object(a.useMemo)((function(){return{minWidth:200}}),[]),R=Object(a.useMemo)((function(){return{width:120,sortable:!0,resizable:!0,filter:!0}}),[]),F=Object(a.useMemo)((function(){return function(e){return e.data.client_order_id}}),[]),T=Object(a.useMemo)((function(){return{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:"customStats"}}),[]);return i.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"300px",width:"100"}},i.a.createElement("div",{className:"ag-theme-alpine-dark",style:{width:"100%",height:"100%"}},i.a.createElement(f.AgGridReact,{ref:t,rowData:N,columnDefs:k,defaultColDef:R,rowStyle:{fontSize:12,padding:0},headerHeight:30,rowHeight:30,onGridReady:q,autoGroupColumnDef:E,sideBar:T,animateRows:!0,suppressAggFuncInHeader:!0,getRowId:F})))},b=Object(o.b)((function(e){var r=e.args,t=r.username,a=r.api,n=r.refresh_sec,l=r.refresh_cutoff_sec,o=r.gridoption_build,s=r.prod;return i.a.createElement("div",null,i.a.createElement(p,{username:t,api:a,refresh_sec:n,refresh_cutoff_sec:l,gridoption_build:o,prod:s}))}));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(b,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.b71259e2.chunk.js.map